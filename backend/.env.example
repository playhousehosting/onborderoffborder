# Environment Variables - NEVER COMMIT THIS FILE TO GIT
# Copy to .env and fill in actual values

# ==========================================
# REQUIRED FOR PRODUCTION
# ==========================================

# Server Configuration
NODE_ENV=production
PORT=5000
FRONTEND_URL=https://your-frontend-domain.vercel.app

# Session Security (Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
SESSION_SECRET=GENERATE-64-CHAR-HEX-STRING-HERE
SESSION_MAX_AGE=3600000

# Encryption (Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))")
ENCRYPTION_KEY=GENERATE-64-CHAR-HEX-STRING-HERE

# Database (Use Neon Postgres - Free tier at https://neon.tech)
DATABASE_URL=postgresql://user:password@ep-xxxxx.us-east-2.aws.neon.tech/neondb?sslmode=require

# Security
ALLOWED_ORIGINS=https://your-frontend-domain.vercel.app
SECURE_COOKIES=true
TRUST_PROXY=true

# ==========================================
# OPTIONAL / DEFAULTS
# ==========================================

# Alternative: Redis for session storage (if not using Postgres)
# REDIS_URL=redis://localhost:6379

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Azure AD Multi-Tenant App (For Interactive OAuth2 Authentication)
# Set these in Vercel environment variables to enable interactive sign-in
# Get these from your Azure AD App Registration
AZURE_CLIENT_ID=your-multi-tenant-app-client-id
AZURE_TENANT_ID=your-tenant-id

# Set to 'true' for multi-tenant (allows users from any organization to sign in)
# Set to 'false' or omit for single-tenant (only your organization)
AZURE_MULTITENANT=true

# ==========================================
# ON-PREMISES ACTIVE DIRECTORY INTEGRATION
# ==========================================
# Configure these to enable on-premises user creation that syncs to Azure AD

# AD Domain Controller hostname or IP
AD_SERVER=dc01.yourdomain.com

# Service account with AD user creation permissions
AD_USERNAME=svc_adcreate
AD_PASSWORD=SecurePassword123!

# Active Directory domain name
AD_DOMAIN=YOURDOMAIN

# Default Organizational Unit for new users
# Example: OU=NewUsers,OU=Employees,DC=yourdomain,DC=com
AD_DEFAULT_OU=OU=Users,DC=yourdomain,DC=com

# Default temporary password for new users (must meet your AD password policy)
AD_DEFAULT_PASSWORD=TempPass123!

# ==========================================
# HYBRID EXCHANGE ENVIRONMENT INTEGRATION
# ==========================================
# Configure these to manage mailboxes in hybrid Exchange environments
# (Exchange Server on-premises + Exchange Online)

# Exchange Server hostname or FQDN
EXCHANGE_SERVER=exchange01.yourdomain.com

# Service account with Exchange Organization Management permissions
EXCHANGE_USERNAME=svc_exchange
EXCHANGE_PASSWORD=SecurePassword123!

# Domain for Exchange authentication
EXCHANGE_DOMAIN=YOURDOMAIN

# Remote routing domain for Exchange Online (your .onmicrosoft.com domain)
# Example: contoso.mail.onmicrosoft.com
EXCHANGE_REMOTE_DOMAIN=yourtenant.mail.onmicrosoft.com

# ==========================================
# PRODUCTION DEPLOYMENT CHECKLIST
# ==========================================
# [ ] Generate new SESSION_SECRET (64 hex chars)
# [ ] Generate new ENCRYPTION_KEY (64 hex chars)  
# [ ] Create Neon Postgres account and get DATABASE_URL
# [ ] Set FRONTEND_URL to your Vercel frontend domain
# [ ] Set ALLOWED_ORIGINS to match frontend domain
# [ ] Set NODE_ENV=production
# [ ] Set SECURE_COOKIES=true (HTTPS only)
# [ ] Set TRUST_PROXY=true (for Vercel)

# Logging
LOG_LEVEL=info

# CORS
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# Security Headers
ENABLE_HELMET=true
ENABLE_CORS=true

# Production settings (uncomment for production)
# SECURE_COOKIES=true
# COOKIE_SAME_SITE=strict
# TRUST_PROXY=true
